/******/ (function() { // webpackBootstrap
/******/ 	"use strict";
var __webpack_exports__ = {};
// // Import vendor jQuery plugin example
// import '~/app/libs/mmenu/dist/mmenu.js'

document.addEventListener('DOMContentLoaded', function () {
  // Custom JS

  // аккордеон на станице Home и About
  function accordionInit(list) {
    var wrap = list;
    if (!wrap) {
      return;
    }
    wrap.addEventListener('click', function (e) {
      if (e.target.classList.contains('accordion__item-title')) {
        var openedElement = document.querySelector('.accordion__item.open');
        openedElement.classList.remove('open');
        e.target.parentElement.classList.add('open');
      }
    });
  }
  accordionInit(document.querySelector('.accordion'));

  // слайдер статей на странице Home
  function blogPreviwSlider() {
    var swiper = new Swiper(".blog-preview__slider", {
      slidesPerView: 3,
      spaceBetween: 24,
      pagination: {
        clickable: true
      },
      breakpoints: {
        320: {
          slidesPerView: 1
        },
        768: {
          slidesPerView: 2
        },
        992: {
          slidesPerView: 3
        }
      }
    });
  }
  blogPreviwSlider();

  // мобильное меню
  function mobMenuToggle() {
    var btn = document.querySelector('.header__navigation-btn-menu');
    var menu = document.querySelector(btn.dataset.toggle);
    btn.addEventListener('click', function (e) {
      btn.classList.toggle('active');
      menu.classList.toggle('active');
    });
  }
  mobMenuToggle();

  // фильтрация по категориям на странице Blog
  function blogCategoryToggle() {
    var categories = document.querySelector('.blog__categories');
    if (!categories) {
      return;
    }
    var articles = document.querySelectorAll('.article-thumbnail');
    var activeCategory = document.querySelector('.blog__categories-btn.active').dataset.category;
    categories.addEventListener('click', function (e) {
      if (e.target.classList.contains('blog__categories-btn')) {
        document.querySelector('.blog__categories-btn.active').classList.remove('active');
        e.target.classList.add('active');
        activeCategory = e.target.dataset.category;
        sortArticles(activeCategory, articles);
      }
    });
    function sortArticles(category, articles) {
      for (var i = 0; i < articles.length; i++) {
        console.log(articles.length);
        if (category === articles[i].dataset.category || category === 'all') {
          articles[i].parentElement.style.display = "";
        } else {
          articles[i].parentElement.style.display = "none";
        }
      }
    }
  }
  blogCategoryToggle();

  // функция появления попапа
  function joinWaitlist(formSelector) {
    var form = document.querySelector(formSelector);
    if (!form) {
      return;
    }
    var popup = document.querySelector(form.dataset.popup);
    form.addEventListener('submit', function (e) {
      e.preventDefault();
      popup.classList.add('active');
    });
    popup.addEventListener('click', function (e) {
      if (e.target.classList.contains('popup__btn')) {
        e.currentTarget.classList.remove('active');
      }
    });
  }
  joinWaitlist('.waitlist__form');
});
/******/ })()
;